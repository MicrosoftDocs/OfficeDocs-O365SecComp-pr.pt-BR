---
title: Office 365 defendendo serviços em nuvem contra ataques de negação de serviço
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: Como a Microsoft defende seus serviços em nuvem contra ataques de negação de serviço (DoS).
ms.openlocfilehash: 784e17d4b80ac990c903c96f92cd6b96f194439b
ms.sourcegitcommit: 0017dc6a5f81c165d9dfd88be39a6bb17856582e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/23/2019
ms.locfileid: "32262843"
---
# <a name="defending-microsoft-cloud-services-against-denial-of-service-attacks"></a><span data-ttu-id="a368a-103">Defendendo os serviços de nuvem da Microsoft contra ataques de negação de serviço</span><span class="sxs-lookup"><span data-stu-id="a368a-103">Defending Microsoft Cloud Services Against Denial-of-Service Attacks</span></span>

## <a name="introduction"></a><span data-ttu-id="a368a-104">Introdução</span><span class="sxs-lookup"><span data-stu-id="a368a-104">Introduction</span></span>
<span data-ttu-id="a368a-105">Os datacenters da Microsoft são protegidos por segurança de defesa profunda que inclui isolamento de perímetro, câmeras de vídeo, equipe de segurança e entradas seguras que usam biometria, SmartCard e autenticação multifator.</span><span class="sxs-lookup"><span data-stu-id="a368a-105">Microsoft datacenters are protected by defense-in-depth security that includes perimeter fencing, video cameras, security personnel, and secure entrances that use biometrics, smartcard, and multi-factor authentication.</span></span> <span data-ttu-id="a368a-106">A segurança de proteção em camadas continua através de cada área do recurso e de cada unidade de servidor físico.</span><span class="sxs-lookup"><span data-stu-id="a368a-106">The defense-in-depth security continues through every area of the facility and to each physical server unit.</span></span> <span data-ttu-id="a368a-107">A [infraestrutura de nuvem da Microsoft e o grupo de operações](https://www.microsoft.com/en-us/cloud-platform/global-datacenters) oferecem a infraestrutura principal e as tecnologias fundamentais para nossos serviços em nuvem.</span><span class="sxs-lookup"><span data-stu-id="a368a-107">The [Microsoft Cloud Infrastructure and Operations Group](https://www.microsoft.com/en-us/cloud-platform/global-datacenters) delivers the core infrastructure and foundational technologies for our cloud services.</span></span> <span data-ttu-id="a368a-108">Nossos data centers estão em conformidade com os padrões do setor para segurança física e confiabilidade e são gerenciados, monitorados e administrados pela equipe de operações da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a368a-108">Our datacenters comply with industry standards for physical security and reliability and are managed, monitored, and administered by Microsoft operations personnel.</span></span>

<span data-ttu-id="a368a-109">Para proteger ainda mais nossos serviços em nuvem, a Microsoft fornece um sistema de defesa contra DDoS que faz parte dos processos de monitoramento contínuo e teste de penetração do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="a368a-109">To further protect our cloud services, Microsoft provides a DDoS defense system that is part of the Microsoft Azure continuous monitoring and penetration-testing processes.</span></span> <span data-ttu-id="a368a-110">O sistema de defesa de DDoS do Azure é projetado para não apenas resistir a ataques de fora, mas também de outros locatários do Azure.</span><span class="sxs-lookup"><span data-stu-id="a368a-110">The Azure DDoS defense system is designed not only to withstand attacks from the outside, but also from other Azure tenants.</span></span> <span data-ttu-id="a368a-111">O Azure usa técnicas de detecção e atenuação padrão, como cookies SYN, limitação de taxa e limites de conexão para proteção contra ataques de DDoS.</span><span class="sxs-lookup"><span data-stu-id="a368a-111">Azure uses standard detection and mitigation techniques such as SYN cookies, rate limiting, and connection limits to protect against DDoS attacks.</span></span>

<span data-ttu-id="a368a-112">Os serviços de nuvem da Microsoft estão sujeitos à ameaça de ataques de várias fontes.</span><span class="sxs-lookup"><span data-stu-id="a368a-112">Microsoft's cloud services are subject to the threat of attack from multiple sources.</span></span> <span data-ttu-id="a368a-113">Para reduzir e proteger contra as várias ameaças de DoS, um sistema de mitigação e detecção de ameaças com base no Azure altamente escalonável e dinâmico foi desenvolvido e implementado com o principal objetivo de proteger a infraestrutura subjacente contra ataques de DoS e ajudar a evitar interrupções de serviço para clientes de serviços de nuvem.</span><span class="sxs-lookup"><span data-stu-id="a368a-113">To mitigate and protect against the various DoS threats, a highly-scalable and dynamic Azure-based threat detection and mitigation system has been developed and implemented with the primary objective of protecting the underlying infrastructure from DoS attacks and helping to prevent service interruptions for cloud services customers.</span></span> <span data-ttu-id="a368a-114">O sistema de mitigação do Azure DoS protege o tráfego de entrada, de saída e de região para região.</span><span class="sxs-lookup"><span data-stu-id="a368a-114">The Azure DoS mitigation system protects inbound, outbound, and region-to-region traffic.</span></span>

<span data-ttu-id="a368a-115">A maioria dos ataques de DoS é iniciado em relação aos destinos nas camadas de rede (L3) e transporte (L4) do modelo de interconexão de [sistemas abertos](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI).</span><span class="sxs-lookup"><span data-stu-id="a368a-115">Most DoS attacks launched against targets at the Network (L3) and Transport (L4) layers of the [Open Systems Interconnection](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) model.</span></span> <span data-ttu-id="a368a-116">Os ataques direcionados às camadas de L3 e L4 foram projetados para inundar uma interface de rede ou serviço com tráfego de ataques para sobrecarregar recursos e negar a capacidade de responder a tráfego legítimo.</span><span class="sxs-lookup"><span data-stu-id="a368a-116">Attacks directed at the L3 and L4 layers are designed to flood a network interface or service with attack traffic to overwhelm resources and deny the ability to respond to legitimate traffic.</span></span> <span data-ttu-id="a368a-117">Especificamente, os ataques de L3 e L4 tentam saturar a capacidade de links de rede, dispositivos ou serviços ou saturar as CPUs de servidores ou máquinas virtuais que dão suporte a um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a368a-117">Specifically, L3 and L4 attacks attempt to either saturate the capacity of network links, devices, or services or overwhelm the CPUs of servers or virtual machines supporting an application.</span></span>

<span data-ttu-id="a368a-118">Para se proteger contra ataques de L3 e L4, a Microsoft projetou, desenvolveu e implantou uma solução voltada especificamente para proteger a infraestrutura e os alvos de clientes que estão em ataque protegendo essas camadas.</span><span class="sxs-lookup"><span data-stu-id="a368a-118">To guard against L3 and L4 attacks Microsoft has designed, developed, and deployed a solution aimed specifically at safeguarding the infrastructure and customer targets that come under attack by protecting these layers.</span></span> <span data-ttu-id="a368a-119">A proteção da infra-estrutura garante que o tráfego de ataque destinado a um cliente não resulte em danos de material de apoio ou a qualidade de serviço de rede reduzida para outros clientes.</span><span class="sxs-lookup"><span data-stu-id="a368a-119">Protecting the infrastructure ensures that attack traffic intended for one customer does not result in collateral damage or diminished network quality of service for other customers.</span></span> <span data-ttu-id="a368a-120">A solução usa dados de amostragem de tráfego de roteadores do datacenter.</span><span class="sxs-lookup"><span data-stu-id="a368a-120">The solution uses traffic sampling data from datacenter routers.</span></span> <span data-ttu-id="a368a-121">Esses dados são analisados por um serviço de monitoramento de rede para detectar ataques.</span><span class="sxs-lookup"><span data-stu-id="a368a-121">This data is analyzed by a network monitoring service to detect attacks.</span></span> <span data-ttu-id="a368a-122">Quando um ataque é detectado, os mecanismos de defesa automatizada são necessários.</span><span class="sxs-lookup"><span data-stu-id="a368a-122">When an attack is detected, automated defense mechanisms kick in.</span></span>

## <a name="application-level-defenses"></a><span data-ttu-id="a368a-123">Defesas no nível do aplicativo</span><span class="sxs-lookup"><span data-stu-id="a368a-123">Application-Level Defenses</span></span>
<span data-ttu-id="a368a-124">As equipes de engenharia da Microsoft seguem os padrões rigorosos definidos pela [garantia operacional de segurança da Microsoft](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance) para ajudar a proteger os dados do cliente.</span><span class="sxs-lookup"><span data-stu-id="a368a-124">Microsoft engineering teams follow the rigorous standards set by [Microsoft Operational Security Assurance](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance) to help protect customer data.</span></span> <span data-ttu-id="a368a-125">Os serviços de nuvem da Microsoft são criados intencionalmente para suportar uma carga muito alta, bem como para proteger e reduzir contra ataques de negação de serviço de nível de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a368a-125">Microsoft's cloud services are intentionally built to support a very high load as well as to protect and mitigate against application-level DoS attacks.</span></span> <span data-ttu-id="a368a-126">Implementamos uma arquitetura escalada em que os serviços são distribuídos por vários datacenters globais com isolamento regional e recursos de limitação em algumas das cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="a368a-126">We have implemented a scaled-out architecture where services are distributed across multiple global datacenters with regional isolation and throttling features in some of the workloads.</span></span>

<span data-ttu-id="a368a-127">O país ou a região de cada cliente, que o administrador do cliente identifica durante a configuração inicial dos serviços, determina o local de armazenamento principal para os dados do cliente.</span><span class="sxs-lookup"><span data-stu-id="a368a-127">Each customer's country or region, which the customer's administrator identifies during the initial setup of the services, determines the primary storage location for that customer's data.</span></span> <span data-ttu-id="a368a-128">Os dados do cliente são replicados entre datacenters redundantes de acordo com uma estratégia principal/de backup.</span><span class="sxs-lookup"><span data-stu-id="a368a-128">Customer data is replicated between redundant datacenters according to a primary/backup strategy.</span></span> <span data-ttu-id="a368a-129">Um datacenter principal hospeda o software do aplicativo junto com todos os dados principais do cliente em execução no software.</span><span class="sxs-lookup"><span data-stu-id="a368a-129">A primary datacenter hosts the application software along with all the primary customer data running on the software.</span></span> <span data-ttu-id="a368a-130">Um data center de backup fornece failover automático.</span><span class="sxs-lookup"><span data-stu-id="a368a-130">A backup datacenter provides automatic failover.</span></span> <span data-ttu-id="a368a-131">Se o datacenter principal parar de funcionar por qualquer motivo, as solicitações serão redirecionadas para a cópia do software e dos dados do cliente no datacenter de backup.</span><span class="sxs-lookup"><span data-stu-id="a368a-131">If the primary datacenter ceases to function for any reason, requests will be redirected to the copy of the software and customer data in the backup datacenter.</span></span> <span data-ttu-id="a368a-132">A qualquer momento, os dados do cliente podem ser processados no datacenter principal ou de backup.</span><span class="sxs-lookup"><span data-stu-id="a368a-132">At any given time, customer data may be processed in either the primary or the backup datacenter.</span></span> <span data-ttu-id="a368a-133">Distribuir dados entre vários datacenters reduz a área de superfície afetada, caso um datacenter seja atacado.</span><span class="sxs-lookup"><span data-stu-id="a368a-133">Distributing data across multiple datacenters reduces the affected surface area in case one datacenter is attacked.</span></span> <span data-ttu-id="a368a-134">Além disso, os serviços no datacenter afetado podem ser rapidamente redirecionados para o datacenter secundário como um dos mecanismos de recuperação e vice-versa (Redirecionado para o data center principal depois que o serviço é restaurado).</span><span class="sxs-lookup"><span data-stu-id="a368a-134">Furthermore, the services in the affected datacenter can be quickly redirected to the secondary datacenter as one of the recovery mechanisms, and vice versa (redirected back to the primary datacenter once service is restored).</span></span>

<span data-ttu-id="a368a-135">As cargas de trabalho individuais incluem recursos internos que gerenciam a utilização de recursos.</span><span class="sxs-lookup"><span data-stu-id="a368a-135">Individual workloads include built-in features that manage resource utilization.</span></span> <span data-ttu-id="a368a-136">Por exemplo, os mecanismos de limitação no Exchange Online e no SharePoint Online fazem parte de uma abordagem em várias camadas para se defender contra ataques de DoS.</span><span class="sxs-lookup"><span data-stu-id="a368a-136">For example, the throttling mechanisms in Exchange Online and SharePoint Online are part of a multi-layered approach to defending against DoS attacks.</span></span> <span data-ttu-id="a368a-137">A limitação para os usuários do Exchange Online baseia-se no nível dos recursos consumidos pelo usuário final, independentemente de os recursos estarem no Active Directory, no armazenamento de informações do Exchange Online ou em qualquer outro lugar.</span><span class="sxs-lookup"><span data-stu-id="a368a-137">Throttling for Exchange Online users is based on the level of resources consumed by the end user, whether the resources are in Active Directory, the Exchange Online information store, or elsewhere.</span></span> <span data-ttu-id="a368a-138">Um orçamento é alocado para cada cliente para limitar os recursos consumidos por um usuário.</span><span class="sxs-lookup"><span data-stu-id="a368a-138">A budget is allocated to each client to limit the resources consumed by a user.</span></span> <span data-ttu-id="a368a-139">A limitação do Exchange Online para a atividade do usuário e componentes do sistema baseia-se no [Gerenciamento de carga de trabalho](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx).</span><span class="sxs-lookup"><span data-stu-id="a368a-139">Exchange Online throttling for user activity and system components is based on [workload management](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx).</span></span> <span data-ttu-id="a368a-140">Uma carga de trabalho do Exchange Online é um recurso, protocolo ou serviço do Exchange Online que foi explicitamente definido para as finalidades do gerenciamento de recursos do sistema do Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="a368a-140">An Exchange Online workload is an Exchange Online feature, protocol, or service which has been explicitly defined for the purposes of Exchange Online system resource management.</span></span> <span data-ttu-id="a368a-141">Cada carga de trabalho do Exchange Online requer recursos do sistema, como CPU, operações de banco de dados de caixa de correio ou solicitações do Active Directory para executar solicitações de usuário ou trabalho em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="a368a-141">Each Exchange Online workload requires system resources such as CPU, mailbox database operations, or Active Directory requests to perform user requests or background work.</span></span> <span data-ttu-id="a368a-142">Exemplos de cargas de trabalho do Exchange Online incluem Outlook na Web, Exchange ActiveSync, migração de caixa de correio e assistentes de caixa de correio.</span><span class="sxs-lookup"><span data-stu-id="a368a-142">Examples of Exchange Online workloads include Outlook on the web, Exchange ActiveSync, mailbox migration, and mailbox assistants.</span></span> <span data-ttu-id="a368a-143">Os administradores de locatários podem gerenciar as configurações de limitação de gerenciamento de carga de trabalho para usuários com o Shell de gerenciamento do Exchange.</span><span class="sxs-lookup"><span data-stu-id="a368a-143">Tenant administrators can manage Exchange workload management throttling settings for users with the Exchange Management Shell.</span></span> <span data-ttu-id="a368a-144">Há várias formas de limitação que foram implementadas no Exchange Online, incluindo o PowerShell, serviços Web do Exchange e POP e IMAP, Exchange ActiveSync, conexões de dispositivos móveis, destinatários e muito mais.</span><span class="sxs-lookup"><span data-stu-id="a368a-144">There are various forms of throttling which have been implemented within Exchange Online, including PowerShell, Exchange Web Services, and POP and IMAP, Exchange ActiveSync, mobile device connections, recipients, and more.</span></span> <span data-ttu-id="a368a-145">Embora os administradores de implantações locais do Exchange possam configurar políticas de limitação, os administradores não podem configurar políticas de limitação para o Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="a368a-145">While administrators of on-premises Exchange deployments can configure throttling policies, Administrators cannot configure throttling policies for Exchange Online.</span></span>

<span data-ttu-id="a368a-146">O gatilho mais comum para limitação no SharePoint Online é o código do modelo de objeto do cliente (CSOM) que executa muitas ações em uma frequência muito alta.</span><span class="sxs-lookup"><span data-stu-id="a368a-146">The most common trigger for throttling in SharePoint Online is client-side object model (CSOM) code that performs too many actions at too high a frequency.</span></span> <span data-ttu-id="a368a-147">Com o CSOM, muitas ações podem ser executadas com uma única solicitação, que pode exceder os limites de uso e fazer com que a limitação por usuário.</span><span class="sxs-lookup"><span data-stu-id="a368a-147">With CSOM, many actions can be performed with a single request, which can exceed usage limits and cause per-user throttling.</span></span>

<span data-ttu-id="a368a-148">Independentemente da atividade que pode resultar em limitação, quando um usuário exceder os limites de uso, o SharePoint Online limita qualquer solicitação adicional dessa conta de usuário, geralmente por um curto período de tempo.</span><span class="sxs-lookup"><span data-stu-id="a368a-148">Regardless of the activity which might result in throttling, when a user exceeds usage limits, SharePoint Online throttles any further requests from that user account, usually for a short period of time.</span></span> <span data-ttu-id="a368a-149">Enquanto um acelerador de usuário está em vigor, todas as ações desse usuário são limitadas até que a limitação expire, de acordo com os seguintes critérios:</span><span class="sxs-lookup"><span data-stu-id="a368a-149">While a user throttle is in effect, all actions by that user are throttled until the throttle expires, according to the following criteria:</span></span>
- <span data-ttu-id="a368a-150">Para solicitações realizadas pelo usuário diretamente em um navegador, o SharePoint Online redireciona para uma página de informações de limitação e as solicitações falham.</span><span class="sxs-lookup"><span data-stu-id="a368a-150">For requests performed by the user directly in a browser, SharePoint Online redirects to a throttling information page, and the requests fail.</span></span>
- <span data-ttu-id="a368a-151">Para todas as outras solicitações, incluindo chamadas CSOM, o SharePoint Online retorna o código de status HTTP 429 ("muitas solicitações") e as solicitações falham.</span><span class="sxs-lookup"><span data-stu-id="a368a-151">For all other requests, including CSOM calls, SharePoint Online returns HTTP status code 429 ("too many requests"), and the requests fail.</span></span>

<span data-ttu-id="a368a-152">Se o processo transgressor continuar a exceder os limites de uso, o SharePoint Online pode bloquear completamente o processo e retornar o código de status HTTP 503 ("serviço não disponível").</span><span class="sxs-lookup"><span data-stu-id="a368a-152">If the offending process continues to exceed usage limits, SharePoint Online may completely block the process and return HTTP status code 503 ("service unavailable").</span></span>

## <a name="vulnerability-and-penetration-testing"></a><span data-ttu-id="a368a-153">Teste de vulnerabilidade e penetração</span><span class="sxs-lookup"><span data-stu-id="a368a-153">Vulnerability and Penetration Testing</span></span>
<span data-ttu-id="a368a-154">A Microsoft usa muitas [tecnologias e práticas de segurança](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement) para [proteger sua infraestrutura de nuvem](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) e redes locais contra ameaças modernas e sofisticadas, incluindo o uso de componentes e serviços antimalware para serviços de nuvem, virtual máquinas (VMs) e outros sistemas; Análise avançada de ameaças, que monitora padrões de uso normais para redes, sistemas e usuários e emprega o aprendizado da máquina para sinalizar qualquer comportamento que não seja o teste de penetração comum e normal.</span><span class="sxs-lookup"><span data-stu-id="a368a-154">Microsoft uses many [security technologies and practices](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement) to [protect its cloud infrastructure](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) and on-premises networks against modern, sophisticated threats, including using antimalware components and services for cloud services, virtual machines (VMs), and other systems; Advanced Threat Analytics, which monitors normal usage patterns for networks, systems, and users, and employs machine learning to flag any behavior that is out of the ordinary, and regular penetration testing.</span></span>

<span data-ttu-id="a368a-155">Além de realizar nossos próprios testes de penetração e oferta para nossos clientes em um programa de teste de penetração uniFicado de [nuvem da Microsoft](https://technet.microsoft.com/en-us/mt784683), também envolvemos profissionais de segurança de terceiros que realizam avaliações regulares de vulnerabilidades do e teste de penetração em nossos serviços em nuvem.</span><span class="sxs-lookup"><span data-stu-id="a368a-155">In addition to performing our own penetration tests and offering to our customers a [Microsoft Cloud Unified Penetration Testing program](https://technet.microsoft.com/en-us/mt784683), we also engage with third-party security professionals who perform regular vulnerability assessments of and penetration testing against our cloud services.</span></span> <span data-ttu-id="a368a-156">Disponibilizamos os relatórios dessas avaliações de vulnerabilidade de terceiros para download na base de serviços de [confiança de serviço](https://aka.ms/STP) e os portais de [garantia de serviço](https://aka.ms/ServiceAssurance) .</span><span class="sxs-lookup"><span data-stu-id="a368a-156">We make the reports from these third-party vulnerability assessments available for download from the [Service Trust](https://aka.ms/STP) and the [Service Assurance](https://aka.ms/ServiceAssurance) portals.</span></span>
